# SonarCloud Configuration for Buy01 Monorepo
# Organization: tonikorhonen
# Project Key: ToniKorhonen_buy-01

sonar.projectKey=ToniKorhonen_buy-01
sonar.organization=tonikorhonen
sonar.projectName=Buy01 E-Commerce Platform
sonar.projectVersion=1.0

# Encoding
sonar.sourceEncoding=UTF-8

# Language settings
sonar.java.source=17
sonar.java.target=17

# Frontend TypeScript/JavaScript settings
sonar.typescript.tsconfigPaths=Frontend/tsconfig.json,Frontend/tsconfig.app.json
sonar.javascript.node.maxspace=4096

# Global exclusions
sonar.exclusions=**/target/**,**/node_modules/**,**/*.xml,**/dist/**,**/.angular/**,**/certs/**,**/coverage/**,**/uploads/**

sonar.test.exclusions=**/target/**,**/node_modules/**

# Coverage exclusions (DTOs, configs, main classes)
sonar.coverage.exclusions=**/dto/**,**/dtos/**,**/config/**,**/security/**,**/ServiceUserApplication.java,**/ProductServiceApplication.java,**/MediaServiceApplication.java,**/ApiGatewayApplication.java,**/main.ts

# Module organization for better visualization
sonar.modules=user-service,product-service,media-service,api-gateway,frontend

# User Service module
user-service.sonar.projectName=User Service
user-service.sonar.projectBaseDir=Backend/user-service
user-service.sonar.sources=src/main/java
user-service.sonar.tests=src/test/java
user-service.sonar.java.binaries=target/classes
user-service.sonar.java.test.binaries=target/test-classes
user-service.sonar.java.libraries=target/*.jar
user-service.sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml
user-service.sonar.junit.reportPaths=target/surefire-reports

# Product Service module
product-service.sonar.projectName=Product Service
product-service.sonar.projectBaseDir=Backend/product-service
product-service.sonar.sources=src/main/java
product-service.sonar.tests=src/test/java
product-service.sonar.java.binaries=target/classes
product-service.sonar.java.test.binaries=target/test-classes
product-service.sonar.java.libraries=target/*.jar
product-service.sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml
product-service.sonar.junit.reportPaths=target/surefire-reports

# Media Service module
media-service.sonar.projectName=Media Service
media-service.sonar.projectBaseDir=Backend/media-service
media-service.sonar.sources=src/main/java
media-service.sonar.tests=src/test/java
media-service.sonar.java.binaries=target/classes
media-service.sonar.java.test.binaries=target/test-classes
media-service.sonar.java.libraries=target/*.jar
media-service.sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml
media-service.sonar.junit.reportPaths=target/surefire-reports

# API Gateway module
api-gateway.sonar.projectName=API Gateway
api-gateway.sonar.projectBaseDir=Backend/api-gateway
api-gateway.sonar.sources=src/main/java
api-gateway.sonar.tests=src/test/java
api-gateway.sonar.java.binaries=target/classes
api-gateway.sonar.java.test.binaries=target/test-classes
api-gateway.sonar.java.libraries=target/*.jar
api-gateway.sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml
api-gateway.sonar.junit.reportPaths=target/surefire-reports

# Frontend module
frontend.sonar.projectName=Frontend
frontend.sonar.projectBaseDir=Frontend
frontend.sonar.sources=src
frontend.sonar.tests=src
frontend.sonar.test.inclusions=**/*.spec.ts
frontend.sonar.exclusions=**/node_modules/**,**/dist/**,**/.angular/**,**/*.spec.ts
frontend.sonar.typescript.lcov.reportPaths=coverage/lcov.info
frontend.sonar.javascript.lcov.reportPaths=coverage/lcov.info

